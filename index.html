<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ğŸ’– The Ultimate Love Gift ğŸ’–</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        html,body {
            min-height: 100vh;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #ffc1cc 0%, #ffe4e1 100%);
        }
        #loadingScreen {
            position: fixed;
            top:0; left:0; width:100vw; height:100vh;
            background: linear-gradient(135deg, #ffc1cc 0%, #ffb6c1 100%);
            z-index: 1000000;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            transition: opacity 1.2s;
        }
        .loading-heart { font-size: 7rem; color: #ff69b4; animation: heartbeat 1.2s infinite;}
        @keyframes heartbeat {
            0%,100% { transform: scale(1);}
            20% { transform: scale(1.15);}
            40% { transform: scale(0.95);}
            60% { transform: scale(1.13);}
            80% { transform: scale(1);}
        }
        #loadingScreen.hide { opacity: 0; pointer-events: none;}
        .instructions {
            background: #ffe4f4;
            border: 2px solid #fdaecb;
            border-radius: 14px;
            padding: 15px 25px;
            margin: 30px auto 15px auto;
            max-width: 700px;
            color: #e75480;
            font-size: 1.09rem;
            box-shadow: 0 1px 10px #ffb6c1;
        }
        .heart { color: #ff69b4; animation: heartbeat 1.2s infinite; cursor: pointer;
            transition: transform 0.15s; display: inline-block; font-size: 2.3rem; user-select: none;}
        .exploded-heart {
            position: fixed; font-size: 2.2rem; opacity: 1; will-change: transform, opacity;
            pointer-events: none; animation: explodeHearts 1.2s cubic-bezier(.6,2,.5,1) forwards;
        }
        @keyframes explodeHearts {
            0% {opacity:1; transform: scale(0.7) translate(0,0);}
            70% {opacity:1;}
            100% {opacity:0; transform: scale(1.3) translate(var(--tx), var(--ty));}
        }
        .heart-carousel-box {
            background: #fff0f6;
            border: 2px solid #ffa4c1;
            border-radius: 25px;
            box-shadow: 0 2px 12px #ffd6e0;
            width: 350px;
            height: 110px;
            margin: 30px auto 36px auto;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .carousel-track {
            display: flex; flex-direction: row; align-items: center; position: absolute;
            width: 600px; left: 0; animation: carouselMove 7s linear infinite;
        }
        @keyframes carouselMove { 0% { left: 0;} 100% { left: -250px;}}
        .carousel-heart {
            font-size: 2.3rem; margin: 0 20px;
            filter: drop-shadow(0 1px 4px #ffd6e0);
            user-select: none; background: rgba(255,255,255,0.33);
            border-radius: 18px; padding: 0 7px;
            animation: carouselBounce 1.8s infinite alternate;
        }
        @keyframes carouselBounce {
            0% {transform: translateY(0) scale(1);}
            50% {transform: translateY(-13px) scale(1.16);}
            100% {transform: translateY(0) scale(1);}
        }
        .ily-fall {
            position: fixed; left: 0; top: 0;
            font-size: 2.3rem; color: #ff69b4; opacity: 1;
            z-index: 10005; pointer-events: none; user-select: none;
            animation: ilyFallSmooth 2.1s cubic-bezier(.4,1.2,.6,1.09) forwards;
        }
        @keyframes ilyFallSmooth {
            0% { opacity: 0; transform: translateY(0) scale(.7);}
            10% { opacity: 1; transform: translateY(0) scale(1.05);}
            80% { opacity: 1; }
            100% { opacity: 0; transform: translateY(320px) scale(1);}
        }
        /* Aligned buttons and gift box */
        .main-btns-col {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        .main-btns-col > button,
        .main-btns-col > .giftbox-btn {
            width: 100%;
            max-width: 350px;
        }
        /* Gift box SVG styles */
        .giftbox-btn {
            width: 120px; height: 140px; margin: 12px auto 18px auto; position: relative;
            display: block;
            cursor: pointer;
            user-select: none;
            transition: margin 0.2s;
            z-index: 2;
        }
        .giftbox-svg { width: 120px; height: 140px; display: block; margin: 0 auto;}
        .giftbox-svg .lid {
            transition: transform 0.7s cubic-bezier(.68,1.8,.7,1.2);
            transform-origin: 60px 50px;
        }
        .giftbox-btn.locked .lid {
            transform: rotate(0deg);
        }
        .giftbox-btn.unlocked .lid {
            transform: rotate(-60deg) translate(-13px,-35px);
        }
        .goodgirl-label {
            display: none;
            position: absolute;
            left: 50%; top: 55px;
            transform: translateX(-50%);
            font-size: 1.08rem;
            background: #ffe4f4;
            color: #e75480;
            border-radius: 9px;
            border: 1.3px solid #e75480;
            padding: 3px 17px 3px 17px;
            font-weight: bold;
            z-index: 11;
            cursor: pointer;
            box-shadow: 0 2px 6px #ffd6e0;
        }
        .giftbox-btn.unlocked .goodgirl-label { display: block;}
        .giftbox-btn.locked .goodgirl-label { display: none;}
        .giftbox-btn.locked { cursor: not-allowed;}
        .giftbox-btn.shake { animation: chestUnlock 0.7s 1;}
        @keyframes chestUnlock {
            0%,100% { transform: translateX(0);}
            20% { transform: translateX(-8px);}
            40% { transform: translateX(8px);}
            60% { transform: translateX(-8px);}
            80% { transform: translateX(8px);}
        }
        .modal.fade .modal-dialog {
            transition: transform .3s cubic-bezier(.4,1.4,.7,1), opacity .3s cubic-bezier(.4,1.4,.7,1);
            transform: scale(.97) translateY(40px);
            opacity: 0;
        }
        .modal.fade.show .modal-dialog { transform: scale(1) translateY(0); opacity: 1;}
        .modal-content { background: #fff0f6; border-radius: 1.2em; border: 2px solid #ffa4c1;}
        .modal-header { border-bottom: 0; }
        .modal-title { color: #e75480;}
        .btn-close { background: #fff !important; }
        .close-btn-abs {
            position: absolute; top: 12px; right: 22px; background: #ffb6c1; color: #fff;
            border-radius: 50%; width: 36px;height: 36px; border: none; font-size: 1.45rem;
            font-weight: bold; z-index: 20; box-shadow: 0 1px 6px #ffd6e0;
            cursor: pointer; transition: background .13s;
        }
        .close-btn-abs:hover { background: #e75480;}
        .timer {
            font-size: 1.15rem; background: #fff0f6; padding: 6px 15px; border-radius: 12px;
            display: inline-block; margin-bottom: 12px; color: #e75480; border: 2px solid #ffa4c1; box-shadow: 0 0 10px #ffd6e0;
        }
        .love-quote {
            min-height: 34px; font-size: 1.12rem; color: #b4004e; margin-bottom: 10px; margin-top: 10px; font-style: italic;
        }
        .fadebook { opacity: 0; pointer-events: none; transition: opacity 0.37s cubic-bezier(.4,1.4,.7,1);
            position: fixed; top:0; left:0; width:100vw; height:100vh; z-index: 99999;
            display: flex; align-items: center; justify-content: center; background: transparent !important;
        }
        .fadebook.show { opacity: 1; pointer-events: all;}
        .fadebook-content { background: #fff0f6; border-radius: 1.2em; border: 2px solid #ffa4c1;
            box-shadow: 0 2px 22px #ffd6e0; min-width: 320px; min-height: 220px; max-width: 98vw; max-height: 82vh;
            padding: 36px 18px 28px 18px; position: relative; display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
            animation: fadeInBook .4s;
        }
        @keyframes fadeInBook { from { opacity: 0; transform: scale(.95);} to { opacity: 1; transform: scale(1);}}
        .fadebook-close { position: absolute; top: 10px; right: 17px; background: #ffb6c1; color: #fff; border-radius: 50%; width: 36px;height: 36px;
            border: none; font-size: 1.45rem; font-weight: bold; z-index: 20; box-shadow: 0 1px 6px #ffd6e0; cursor: pointer; transition: background .13s;
        }
        .fadebook-close:hover { background: #e75480;}
        .fadebook-title { font-size: 1.4rem; color: #e75480; margin-bottom: 10px; font-weight: bold; letter-spacing: 1px;}
        .fadebook-content ol { margin: 0 0 7px 0; padding-left: 1.3em; text-align: left;}
        .fadebook-pagination { color: #e75480; background: #ffe4f4; padding: 2px 13px; border-radius: 8px; font-size: 1.01rem; font-weight: 600; box-shadow: 0 1px 4px #ffd6e0; margin: 0 9px;}
        .fadebook-navbtn { padding: 2px 13px; background: #ffb6c1; color: #fff; border-radius: 8px; font-size: 1.05rem; font-weight: 600; border: none; box-shadow: 0 1px 4px #ffd6e0; cursor: pointer; transition: background .13s; margin: 0 4px;}
        .fadebook-navbtn:hover { background: #e75480;}
        .quiz-progress-bar { width: 100%; height: 13px; background: #ffe4f4; border-radius: 7px; margin-bottom: 18px; overflow: hidden; box-shadow: 0 1px 4px #ffd6e0;}
        .quiz-progress-bar-inner { background: linear-gradient(90deg, #ffb6c1 0%, #ff69b4 100%); height: 100%; border-radius: 7px; width: 0; transition: width 0.6s cubic-bezier(.8,.2,.6,1.1);}
        .quiz-key-anim { display: flex; flex-direction: column; align-items: center; margin-top: 28px;}
        .quiz-key-img { width: 120px; animation: quizKeyFloat 1.2s cubic-bezier(.5,2,.5,.9) alternate infinite; filter: drop-shadow(0 3px 10px #ff69b4); cursor: pointer;}
        @keyframes quizKeyFloat { 0% { transform: translateY(0) scale(1);} 100% { transform: translateY(-18px) scale(1.1);}}
        .btn[disabled], button[disabled] {pointer-events: none; opacity: 0.7;}
        @media (max-width: 800px) {
            .heart-carousel-box { width: 98vw; max-width: 420px; }
            .main-btns-col { max-width: 98vw; }
            .main-btns-col > button,
            .main-btns-col > .giftbox-btn { max-width: 98vw; }
        }
        @media (max-width: 500px) {
            .instructions { font-size: 0.96rem; padding: 10px 6px;}
            .container { padding-left: 4px; padding-right: 4px; }
            .heart-carousel-box { height: 85px; }
            .main-btns-col { gap: 7px;}
            .giftbox-btn { width: 84px; height: 100px; }
            .giftbox-svg { width: 84px; height: 100px; }
            .goodgirl-label { font-size: 0.86rem; top: 37px; padding: 2px 10px;}
            .carousel-heart { font-size: 1.5rem; margin: 0 10px;}
            .quiz-key-img { width: 74px;}
            .fadebook-content { min-width: 90vw; padding: 13px 4px 15px 4px;}
        }
        @media (max-width: 400px) {
            .heart-carousel-box { height: 65px; }
        }
    </style>
</head>
<body>
    <!-- Loading screen -->
    <div id="loadingScreen">
        <span class="loading-heart">ğŸ’–</span>
        <span style="font-size:1.4rem;color:#e75480;margin-top:20px;">Loading your surprise...</span>
    </div>
    <div class="instructions">
        <b>Welcome, beautiful! Here are your steps:</b><br>
        1. Enjoy the floating hearts, click the big hearts or anywhere on the background for a mini explosion!<br>
        2. Try the pop-up love messages, compliments, and surprises.<br>
        3. <b>Unlock your special gift box (with poetry just for you):</b><br>
        &nbsp;&nbsp;- <b>Complete the Quiz</b>.<br>
        &nbsp;&nbsp;- Then tap the label on your gift box to open it!<br>
        4. Explore the â€œWhy I Love Youâ€ (with a cozy fade effect and close button).<br>
        5. Below is a bouncing carousel of hearts, just for you!<br>
        <i>You mean the world to me! ğŸ’–</i>
    </div>
    <div class="container text-center py-3" style="position:relative;z-index:2;">
        <h1 class="display-4 mb-1">
            <span class="heart" id="heartEmoji" tabindex="0">â¤ï¸</span>
            To My One and Only <span id="girlfriendName">Princess & Gorgeous little Lady</span>!
            <span class="heart" id="heartEmoji2" tabindex="0">ğŸ©·</span>
        </h1>
        <div class="timer" id="countdown"></div>
        <div class="love-quote" id="randomQuote"></div>
        <div class="heart-carousel-box">
            <div class="carousel-track" id="carouselTrack"></div>
        </div>
        <!-- Aligned buttons and gift box -->
        <div class="main-btns-col">
            <button class="btn btn-lg btn-pink" style="background:#ff69b4;color:white;" onclick="showLoveMsg();">Pop a Love Message! ğŸ’Œ</button>
            <button class="btn btn-lg btn-light" onclick="showCompliments();">Show Compliments ğŸŒ¸</button>
            <button class="btn btn-lg btn-warning" onclick="surprisePopup();">Surprise Me! ğŸ</button>
            <button class="btn btn-lg btn-success" onclick="showBookPage(0, true);">Why I Love You ğŸ¥º</button>
            <button class="btn btn-lg btn-secondary" onclick="showQuiz();">Quiz For You! ğŸ“</button>
            <!-- GIFT BOX SVG -->
            <span class="giftbox-btn locked" id="giftBoxBtn" title="Open after quiz!">
                <svg class="giftbox-svg" viewBox="0 0 120 140">
                    <!-- Lid -->
                    <g class="lid">
                        <ellipse cx="60" cy="54" rx="51" ry="18" fill="#fff0f6" stroke="#e75480" stroke-width="5"/>
                        <rect x="16" y="38" width="88" height="23" rx="10" fill="#fff0f6" stroke="#e75480" stroke-width="5"/>
                        <rect x="54" y="38" width="13" height="23" rx="6" fill="#e75480"/>
                        <ellipse cx="60" cy="38" rx="25" ry="7" fill="#ff69b4"/>
                        <!-- Bow -->
                        <ellipse cx="40" cy="32" rx="14" ry="7" fill="#ff69b4"/>
                        <ellipse cx="80" cy="32" rx="14" ry="7" fill="#ff69b4"/>
                        <ellipse cx="60" cy="29" rx="10" ry="8" fill="#fff0f6"/>
                    </g>
                    <!-- Box -->
                    <rect x="16" y="60" width="88" height="54" rx="16" fill="#ffb6c1" stroke="#e75480" stroke-width="5"/>
                    <rect x="54" y="60" width="13" height="54" rx="7" fill="#e75480"/>
                </svg>
                <span class="goodgirl-label" id="goodGirlLabel" onclick="openGiftBox()" title="Click to open!">My Good Girl</span>
            </span>
            <button class="btn btn-lg btn-danger" onclick="spawnManyILoveYou();">So Many 'I Love You's! ğŸ’˜</button>
        </div>
        <img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" alt="Cute Love Gif" class="img-fluid rounded shadow my-3" style="max-width:220px;">
    </div>
    <!-- Love Msg Modal -->
    <div class="modal fade" id="loveMsgModal" tabindex="-1" aria-labelledby="loveMsgLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content popup-msg">
          <button class="close-btn-abs" data-bs-dismiss="modal" aria-label="Close">&times;</button>
          <div class="modal-header border-0">
            <h5 class="modal-title w-100 text-center" id="loveMsgLabel">ğŸ’– A Message For You ğŸ’–</h5>
          </div>
          <div class="modal-body text-center" id="loveMsgText"></div>
        </div>
      </div>
    </div>
    <!-- Compliments Modal -->
    <div class="modal fade" id="complimentModal" tabindex="-1" aria-labelledby="complimentLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content popup-msg">
          <button class="close-btn-abs" data-bs-dismiss="modal" aria-label="Close">&times;</button>
          <div class="modal-header border-0">
            <h5 class="modal-title w-100 text-center" id="complimentLabel">ğŸŒº Compliments For You ğŸŒº</h5>
          </div>
          <div class="modal-body">
            <ul class="compliment-list" id="complimentList"></ul>
          </div>
        </div>
      </div>
    </div>
    <!-- Surprise Modal -->
    <div class="modal fade" id="surpriseModal" tabindex="-1" aria-labelledby="surpriseLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content popup-msg">
          <button class="close-btn-abs" data-bs-dismiss="modal" aria-label="Close">&times;</button>
          <div class="modal-header border-0">
            <h5 class="modal-title w-100 text-center" id="surpriseLabel">ğŸ‰ Surprise! ğŸ‰</h5>
          </div>
          <div class="modal-body text-center" id="surpriseMsg"></div>
        </div>
      </div>
    </div>
    <!-- Book Modal (Why I Love You) - fadebook -->
    <div class="fadebook" id="bookFade">
        <div class="fadebook-content">
            <button class="fadebook-close" onclick="closeBook()">Ã—</button>
            <div class="fadebook-title">ğŸ’ Why I Love You ğŸ’</div>
            <div id="bookBody"></div>
            <div style="margin-top:14px;">
                <button class="fadebook-navbtn" id="bookPrev" onclick="bookPrevPage()" style="display:none;">&lt; Prev</button>
                <span class="fadebook-pagination" id="bookPages"></span>
                <button class="fadebook-navbtn" id="bookNext" onclick="bookNextPage()" style="display:none;">Next &gt;</button>
            </div>
        </div>
    </div>
    <!-- Poetry Modal (Gift) - fadebook -->
    <div class="fadebook" id="poetryFade">
        <div class="fadebook-content">
            <button class="fadebook-close" onclick="closePoetry()">Ã—</button>
            <div class="fadebook-title">ğŸŒ¹ Poetry for You ğŸŒ¹</div>
            <div id="poetryBody"></div>
            <div style="margin-top:14px;">
                <button class="fadebook-navbtn" id="poetryPrev" onclick="poetryPrevPage()" style="display:none;">&lt; Prev</button>
                <span class="fadebook-pagination" id="poetryPages"></span>
                <button class="fadebook-navbtn" id="poetryNext" onclick="poetryNextPage()" style="display:none;">Next &gt;</button>
            </div>
        </div>
    </div>
    <!-- Quiz Modal -->
    <div class="modal fade" id="quizModal" tabindex="-1" aria-labelledby="quizLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content popup-msg">
          <button class="close-btn-abs" data-bs-dismiss="modal" aria-label="Close">&times;</button>
          <div class="modal-header border-0">
            <h5 class="modal-title w-100 text-center" id="quizLabel">ğŸ“ Cute Couple Quiz ğŸ“</h5>
          </div>
          <div class="modal-body" id="quizContent"></div>
        </div>
      </div>
    </div>
    <!-- Locked Giftbox Modal -->
    <div class="modal fade" id="lockedGiftboxModal" tabindex="-1" aria-labelledby="lockedGiftboxLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content popup-msg">
          <button class="close-btn-abs" data-bs-dismiss="modal" aria-label="Close">&times;</button>
          <div class="modal-header border-0">
            <h5 class="modal-title w-100 text-center" id="lockedGiftboxLabel">ğŸ Gift Box Locked ğŸ</h5>
          </div>
          <div class="modal-body text-center" id="lockedGiftboxText">
            Darling, first complete the Quiz!
          </div>
        </div>
      </div>
    </div>
    <div id="confetti-container" class="confetti"></div>
    <script>
        window.onload = function() {
            setTimeout(()=>{
                document.getElementById('loadingScreen').classList.add('hide');
                setTimeout(()=>document.getElementById('loadingScreen').style.display='none', 1200);
            }, 2100);
        }
        function countdownTimer() {
            const now = new Date();
            const end = new Date("2026-02-24T00:00:00");
            const diff = end - now;
            if (diff <= 0) {
                document.getElementById('countdown').textContent = "Happy Special Day, My Love!";
                return;
            }
            const days = Math.floor(diff / (1000*60*60*24));
            const hours = Math.floor((diff / (1000*60*60)) % 24);
            const mins = Math.floor((diff / (1000*60)) % 60);
            const secs = Math.floor((diff/1000)%60);
            document.getElementById('countdown').textContent =
                `Countdown to Special Day: ${days}d ${hours}h ${mins}m ${secs}s`;
        }
        setInterval(countdownTimer, 1000);
        countdownTimer();
        document.body.addEventListener('click', function(e) {
            if (
                e.target.closest(".btn") ||
                e.target.closest(".giftbox-btn") ||
                e.target.closest(".modal") ||
                e.target.closest(".carousel-heart") ||
                e.target.closest(".fadebook") ||
                e.target.tagName === "INPUT" ||
                e.target.tagName === "LABEL" ||
                e.target.tagName === "A"
            ) return;
            let x = e.clientX, y = e.clientY;
            heartExplosionAt(x, y);
        });
        function onMainHeartClick(e) {
            let rect = e.target.getBoundingClientRect();
            let x = rect.left + rect.width/2;
            let y = rect.top + rect.height/2;
            heartExplosionAt(x, y);
        }
        document.getElementById('heartEmoji').addEventListener('click', onMainHeartClick);
        document.getElementById('heartEmoji2').addEventListener('click', onMainHeartClick);
        function heartExplosionAt(x, y) {
            let n = 14;
            let angleStep = 2*Math.PI/n;
            let distance = 110;
            for (let i = 0; i < n; i++) {
                const h = document.createElement("span");
                h.textContent = ['â¤ï¸','ğŸ’–','ğŸ’˜','ğŸ’—','ğŸ’“','ğŸ©·','ğŸ’','ğŸ’','ğŸ’Ÿ'][Math.floor(Math.random()*9)];
                h.className = "exploded-heart";
                h.style.left = `${x}px`;
                h.style.top = `${y}px`;
                document.body.appendChild(h);
                const angle = i*angleStep + (Math.random()-0.5)*0.2;
                let r = distance + Math.random()*25;
                setTimeout(() => {
                    h.style.setProperty("--tx", `${Math.cos(angle)*r}px`);
                    h.style.setProperty("--ty", `${Math.sin(angle)*r}px`);
                }, 15);
                setTimeout(() => h.remove(), 1200);
            }
        }
        function spawnManyILoveYou() {
            const vw = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
            const vh = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
            let spots = [];
            for(let i=0;i<6;i++) {
                let x, y, tries=0;
                do {
                    x = 40 + Math.random()*(vw-170);
                    y = 60 + Math.random()*(vh-360);
                    tries++;
                } while(spots.some(([xx,yy]) => Math.abs(xx-x)<90 && Math.abs(yy-y)<40) && tries < 10);
                spots.push([x,y]);
            }
            for (let [x,y] of spots) {
                const love = document.createElement('div');
                love.className = 'ily-fall';
                love.textContent = "I Love You ğŸ’—";
                love.style.left = x + "px";
                love.style.top = y + "px";
                love.style.color = ['#ff69b4','#e75480','#b4004e','#ff3366','red','#ffb6c1'][Math.floor(Math.random()*6)];
                document.body.appendChild(love);
                setTimeout(()=> love.remove(), 2200);
            }
        }
        function populateCarouselHearts() {
            const track = document.getElementById('carouselTrack');
            track.innerHTML = '';
            let heartTypes = ['â¤ï¸','ğŸ’–','ğŸ’˜','ğŸ’—','ğŸ’“','ğŸ©·','ğŸ’','ğŸ’','ğŸ’Ÿ'];
            for(let i=0;i<10;i++) {
                let h = document.createElement('span');
                h.className = 'carousel-heart';
                h.textContent = heartTypes[(i*2+Math.floor(Math.random()*heartTypes.length))%heartTypes.length];
                h.style.animationDelay = `${Math.random() * 1.3}s`;
                track.appendChild(h);
            }
        }
        setInterval(populateCarouselHearts, 7400);
        populateCarouselHearts();
        // Love messages etc...
        const loveMessages = [
            "I love you more than words can say! ğŸ’–",
            "You're the reason my heart beats faster every day. ğŸ˜",
            "Thank you for being my sunshine. â˜€ï¸",
            "I fall in love with you all over again every single day. ğŸ’",
            "You're my favorite notification. ğŸ“±â¤ï¸",
            "No one makes me smile like you do! ğŸ˜Š",
            "With you, every moment is special. ğŸŒ¹",
            "My heart belongs to you forever. ğŸ¥°",
            "You are my dream come true. ğŸŒŸ",
            "I can't wait to see you again! ğŸ¤—",
            "Being with you is my favorite place to be.",
            "Your love is my greatest treasure.",
            "You are my forever and always.",
            "My heart is happiest with you.",
            "Loving you is the best thing that ever happened to me.",
            "You are my world."
        ];
        function showLoveMsg() {
            document.getElementById('loveMsgText').innerHTML = loveMessages[Math.floor(Math.random()*loveMessages.length)];
            bootstrap.Modal.getOrCreateInstance(document.getElementById('loveMsgModal')).show();
        }
        const compliments = [
            "You light up every room you walk into.",
            "Your smile is my favorite thing in the world.",
            "You are so smart, funny, and absolutely gorgeous.",
            "I admire your kindness and your big heart.",
            "You make me want to be a better person.",
            "Your laugh is music to my soul.",
            "You are perfect just the way you are.",
            "You are my best friend and my soulmate.",
            "You inspire me every day.",
            "I am so lucky to have you in my life.",
            "You make every day brighter.",
            "You are the most beautiful girl inside and out.",
            "You are my favorite person to talk to."
        ];
        function showCompliments() {
            const list = document.getElementById('complimentList');
            list.innerHTML = "";
            compliments.forEach(compliment => {
                const li = document.createElement('li');
                li.textContent = compliment;
                list.appendChild(li);
            });
            bootstrap.Modal.getOrCreateInstance(document.getElementById('complimentModal')).show();
        }
        const surprises = [
            '<img src="https://media.giphy.com/media/3orieQEA8b3yIJKQkI/giphy.gif" width="180" alt="Cute cat"><br><b>You are pawsitively amazing!</b>',
            '<img src="https://media.giphy.com/media/13CoXDiaCcCoyk/giphy.gif" width="180" alt="Bear hug"><br><b>Sending you a bear hug, my love!</b>',
            '<img src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" width="180" alt="Bunny love"><br><b>You make my heart hop with joy!</b>',
            '<img src="https://media.giphy.com/media/2A75RyXVzzSI2bx4Gj/giphy.gif" width="180" alt="Panda love"><br><b>Can I be your panda forever?</b>',
            '<img src="https://media.giphy.com/media/9Y5BbDSkSTiY8/giphy.gif" width="180" alt="Excited"><br><b>I canâ€™t stop thinking about you!</b>',
            '<img src="https://media.giphy.com/media/1BcfiGlOGXzQk/giphy.gif" width="180" alt="Hearts"><br><b>You fill my life with love!</b>'
        ];
        function surprisePopup() {
            document.getElementById('surpriseMsg').innerHTML = surprises[Math.floor(Math.random()*surprises.length)];
            bootstrap.Modal.getOrCreateInstance(document.getElementById('surpriseModal')).show();
        }
        const reasons = [
            "Your smile melts my heart every single time.",
            "You always know how to make me laugh, even when Iâ€™m sad.",
            "You care so deeply about me and everyone around you.",
            "Every adventure with you becomes a beautiful memory.",
            "Your hugs feel like home.",
            "You understand me like no one else ever has.",
            "You support my dreams and make me want to achieve more.",
            "Your passion for life inspires me every day.",
            "Youâ€™re not just my girlfriend, youâ€™re my best friend.",
            "I love how you look at the world with so much wonder.",
            "You make me feel special and loved, always.",
            "I love you more than any words can describe.",
            "Your laugh is contagious and brightens my darkest days.",
            "You believe in me, even when I doubt myself.",
            "You never fail to cheer me up.",
            "Your voice is my favorite sound.",
            "You make the little things in life magical.",
            "I love the way your eyes light up when youâ€™re happy.",
            "You are always honest with me.",
            "You make me want to be a better version of myself.",
            "You treat everyone with kindness.",
            "Youâ€™re so cute when youâ€™re sleepy.",
            "You have the prettiest eyes Iâ€™ve ever seen.",
            "You are my safe place.",
            "You always know what to say to make me feel better.",
            "We can talk for hours and it still feels like not enough.",
            "Youâ€™re my biggest supporter.",
            "You challenge me in the best ways.",
            "You never judge me.",
            "You make every day worth waking up for.",
            "You make even rainy days feel sunny.",
            "Youâ€™re creative and thoughtful.",
            "Youâ€™re a wonderful listener.",
            "You accept me as I am.",
            "Youâ€™re patient with me.",
            "You dance with me, even when thereâ€™s no music.",
            "You send me sweet messages that make my day.",
            "Youâ€™re always there for me.",
            "You make my life more colorful.",
            "You have an amazing sense of humor.",
            "You always surprise me in the best ways.",
            "You know my favorite things.",
            "You inspire me to chase my dreams.",
            "You make every moment with you unforgettable.",
            "Youâ€™re my favorite hello and my hardest goodbye.",
            "You make love feel so easy.",
            "Youâ€™re the reason I believe in soulmates.",
            "You are my comfort zone.",
            "You encourage me when I need it most.",
            "You make my heart skip a beat.",
            "Youâ€™re my sunshine on a cloudy day.",
            "Youâ€™re the peanut butter to my jelly.",
            "You make every season better.",
            "I love your gentle touch.",
            "Youâ€™re the first person I want to talk to in the morning.",
            "You are my answer to every prayer.",
            "Youâ€™re the light of my life.",
            "You make me feel so lucky.",
            "You love me for who I am.",
            "Your happiness is my happiness.",
            "Youâ€™re simply the best thing thatâ€™s ever happened to me.",
            "You are my heartâ€™s absolute favorite.",
            "Youâ€™re my home.",
            "I canâ€™t imagine my life without you.",
            "You are my everything.",
            "And thatâ€™s still not enough, my love! â¤ï¸"
        ];
        const bookPageSize = 10;
        let bookPageIdx = 0;
        function showBookPage(idx, open) {
            bookPageIdx = Math.max(0, Math.min(bookPageCount()-1, idx));
            const body = document.getElementById('bookBody');
            const start = bookPageIdx * bookPageSize;
            const end = Math.min(reasons.length, start + bookPageSize);
            let html = "<ol style='margin-left:0;'>";
            for(let i=start;i<end;i++)
                html += `<li style='margin-bottom:12px;'>${reasons[i]}</li>`;
            html += "</ol>";
            if (end === reasons.length)
                html += `<div style="color:#b4004e;text-align:center;margin-top:25px;font-weight:bold;">That's not enough, my love! â¤ï¸</div>`;
            body.innerHTML = html;
            document.getElementById('bookPages').textContent = `${bookPageIdx+1}/${bookPageCount()}`;
            document.getElementById('bookPrev').style.display = (bookPageIdx > 0) ? '' : 'none';
            document.getElementById('bookNext').style.display = (bookPageIdx < bookPageCount()-1) ? '' : 'none';
            if(open) document.getElementById("bookFade").classList.add("show");
        }
        function bookPrevPage() { showBookPage(bookPageIdx-1, false); }
        function bookNextPage() { showBookPage(bookPageIdx+1, false); }
        function bookPageCount() { return Math.ceil(reasons.length/bookPageSize); }
        function closeBook() { document.getElementById("bookFade").classList.remove("show"); }
        const poetries = [
            `In the garden of my heart<br>
            You are the prettiest flower,<br>
            The scent of your laughter<br>
            Gives my soul its power.`,
            `Your eyes are my sunrise,<br>
            Your touch is my moonlight,<br>
            With every beat, I realize,<br>
            My love for you shines bright.`,
            `Your words are gentle rivers,<br>
            Flowing through my mind,<br>
            In every line my heart delivers,<br>
            A love that's one of a kind.`,
            `The world is full of wonders,<br>
            But none as sweet as you,<br>
            In every dream that slumbers,<br>
            It's usâ€”just us two.`,
            `If ever you feel lonely,<br>
            Or need a hand to hold,<br>
            Remember, my love only<br>
            Grows stronger, never old.`
        ];
        let poetryPageIdx = 0;
        function showPoetryPage(idx, open) {
            poetryPageIdx = Math.max(0, Math.min(poetries.length-1, idx));
            const body = document.getElementById('poetryBody');
            body.innerHTML = `<div style="margin-top:10px;margin-bottom:10px;">${poetries[poetryPageIdx]}</div>`;
            document.getElementById('poetryPages').textContent = `${poetryPageIdx+1}/5`;
            document.getElementById('poetryPrev').style.display = (poetryPageIdx > 0) ? '' : 'none';
            document.getElementById('poetryNext').style.display = (poetryPageIdx < poetries.length-1) ? '' : 'none';
            if(open) document.getElementById("poetryFade").classList.add("show");
        }
        function poetryPrevPage() { showPoetryPage(poetryPageIdx-1, false);}
        function poetryNextPage() { showPoetryPage(poetryPageIdx+1, false);}
        function closePoetry() { document.getElementById("poetryFade").classList.remove("show"); }
        const loveQuotes = [
            "â€œYou are my sun, my moon, and all my stars.â€",
            "I look at you and see the rest of my life in front of my eyes.",
            "In all the world, there is no heart for me like yours.",
            "Every love story is beautiful, but ours is my favorite.",
            "I love you not only for what you are, but for what I am when I am with you.",
            "Forever is a long time, but I wouldnâ€™t mind spending it by your side.",
            "You make me want to be a better man. â€” As Good As It Gets",
            "You are the best thing thatâ€™s ever been mine.",
            "I am much more me when I am with you."
        ];
        function showRandomQuote() {
            document.getElementById('randomQuote').textContent =
                loveQuotes[Math.floor(Math.random()*loveQuotes.length)];
        }
        setInterval(showRandomQuote, 8000);
        showRandomQuote();
        const quiz = [
            {
                question: "What is my favorite way to spend time with you?",
                options: [
                    "By Fighting ",
                    "By sending reels",
                    "Talking endlessly",
                    "All of the above!"
                ],
                correct: 3
            },
            {
                question: "How much do I love you?",
                options: [
                    "A little",
                    "A whole lot",
                    "To infinity and beyond",
                    "Words canâ€™t describe!"
                ],
                correct: 2
            },
            {
                question: "When do I think about you?",
                options: [
                    "Morning",
                    "Night",
                    "All day long",
                    "Only on weekends"
                ],
                correct: 2
            },
            {
                question: "What makes you super special to me?",
                options: [
                    "Your smile",
                    "Your heart",
                    "All your cute quirks",
                    "Everything about you!"
                ],
                correct: 3
            },
            {
                question: "My favorite thing to do for you?",
                options: [
                    "Write you messages",
                    "Make you gifts",
                    "Give you love",
                    "All of the above!"
                ],
                correct: 3
            }
        ];
        let quizIndex = 0, quizScore = 0;
        function showQuiz() {
            quizIndex = 0; quizScore = 0;
            showQuizQuestion();
        }
        function showQuizQuestion() {
            const q = quiz[quizIndex];
            let html = `<div class="quiz-progress-bar"><div class="quiz-progress-bar-inner" style="width:${(quizIndex/quiz.length)*100}%"></div></div>`;
            html += `<div class="quiz-question">${q.question}</div>
                        <div class="quiz-options">`;
            q.options.forEach((opt, i) => {
                html += `<label><input type="radio" name="quizopt" value="${i}"> ${opt}</label>`;
            });
            html += `</div>
                    <button class="btn btn-success mt-2" onclick="submitQuizAnswer()">Next</button>`;
            if (quizIndex > 0)
                html += `<div class="quiz-score">Score: ${quizScore}/${quizIndex}</div>`;
            document.getElementById('quizContent').innerHTML = html;
            bootstrap.Modal.getOrCreateInstance(document.getElementById('quizModal')).show();
        }
        function submitQuizAnswer() {
            const opts = document.getElementsByName('quizopt');
            let selected = -1;
            for (let i=0; i<opts.length; i++) {
                if (opts[i].checked) selected = parseInt(opts[i].value);
            }
            if (selected === -1) {
                alert("Please select an answer!");
                return;
            }
            if (selected === quiz[quizIndex].correct)
                quizScore++;
            quizIndex++;
            if (quizIndex < quiz.length)
                showQuizQuestion();
            else
                showQuizResult();
        }
        function showQuizResult() {
            let html = `<div class="quiz-progress-bar"><div class="quiz-progress-bar-inner" style="width:100%"></div></div>`;
            html += `<div class="quiz-score">Your Score: ${quizScore}/${quiz.length}</div>`;
            html += `<div class="quiz-finish-msg">You always win my heart, no matter the score!<br><br>
                <b>Now you are <span style="color:#e75480;">My Good Girl</span>! Tap the label on the gift box to open it ğŸ’–</b></div>
                <div class="quiz-key-anim">
                    <img class="quiz-key-img" id="quizKeyImg" src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" alt="Good Girl!" title="Go open your gift!">
                </div>`;
            document.getElementById('quizContent').innerHTML = html;
            setTimeout(()=>{
                document.getElementById('goodGirlLabel').style.display = 'block';
                document.getElementById('giftBoxBtn').classList.remove('locked');
                document.getElementById('giftBoxBtn').classList.add('unlocked');
            },400);
        }
        function openGiftBox() {
            var box = document.getElementById('giftBoxBtn');
            if (!box.classList.contains('unlocked')) {
                box.classList.add('shake');
                setTimeout(()=>box.classList.remove('shake'), 800);
                bootstrap.Modal.getOrCreateInstance(document.getElementById('lockedGiftboxModal')).show();
                return;
            }
            setTimeout(()=>{ showPoetryPage(0, true); }, 650);
        }
        document.getElementById('giftBoxBtn').addEventListener('click', function(e) {
            if (!this.classList.contains('unlocked')) {
                this.classList.add('shake');
                setTimeout(()=>this.classList.remove('shake'), 700);
                bootstrap.Modal.getOrCreateInstance(document.getElementById('lockedGiftboxModal')).show();
                return;
            }
        });
        setTimeout(() => { showLoveMsg(); }, 2500);
        setTimeout(() => { heartExplosionAt(window.innerWidth/2, window.innerHeight/2); }, 3500);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>